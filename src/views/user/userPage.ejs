<div class="user-page">
    <div class="user-menu">
        <div class="user-card">
            <div class="user-img">
                <img src="/images/fox.jpg" alt="default avatar">
                <i class="fa-solid fa-camera"></i>
            </div>
            <p>User Name</p>
        </div>
        <div class="user-sidebar">
            <a href="#" class="sidebarItem" content="/partials/userInfo.html">
                <i class="fa-solid fa-user"></i>
                Thông tin người dùng
            </a>
            <a href="#" class="sidebarItem" content="/partials/myOrder.html">
                <i class="fa-solid fa-box-archive"></i>
                Đơn hàng của tôi
            </a>
            <a href="#" class="sidebarItem" content="/partials/changePassword.html">
                <i class="fa-solid fa-lock"></i>
                Thay đổi mật khẩu
            </a>
            <a href="#" class="sidebarItem" noContent="true">
                <i class="fa-solid fa-arrow-right-from-bracket"></i>
                Đăng xuất
            </a>
        </div>
    </div>
    <div class="user-sidebar-content">
        <!-- load trang  -->
    </div>
</div>
<script>
    const sidebarItems = document.querySelectorAll('.sidebarItem');
    const contentDiv = document.querySelector('.user-sidebar-content');

    function loadContent(item) {
        if (item.hasAttribute('noContent')) return;
        //tô đậm mục được chọn
        sidebarItems.forEach(i => i.classList.remove("user-click"));
        item.classList.add("user-click");
        const file = item.getAttribute('content');
        if (file) {
            fetch(file)
                .then(res => {
                    if (!res.ok) throw new Error('Không tải được file');
                    return res.text();
                })
                .then(html => {
                    contentDiv.innerHTML = html;
                })
                .catch(err => {
                    contentDiv.innerHTML = `<p>Lỗi tải trang: ${err.message}</p>`;
                });
        }
    }
    sidebarItems.forEach(item => {
        item.addEventListener('click', e => {
            e.preventDefault();
            loadContent(item);
        });
    });
    // Load mặc định item đầu tiên
    if (sidebarItems.length > 0) {
        loadContent(sidebarItems[0]);
    }

</script>